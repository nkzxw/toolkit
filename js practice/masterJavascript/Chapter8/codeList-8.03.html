<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>表单验证---ifan</title>
<link rel="stylesheet" type="text/css" href="../css/i-base.css" />
<style type="text/css">
	.form{width:300px;margin:10px 0;border:1px solid #ccc;}
	.form fieldset{margin-bottom:10px;}
	.form legend{display:none;}
	.form p{margin:5px 10px;}
	.form p label{width:60px;display:block;float:left;text-align:right;padding-right:15px;}
    .form .submit{margin-left:75px;} 
</style>
</head>
<body>
<div class="wrapper">
     <div class="form">
     	<form action="" method="post">
     		<fieldset class="login">
     			<legend>Login Information</legend>
				<p><label for="username" class="hover">Usename</label>
				    <input type="text" id="username" class="required text" /></p>
				<p><label for="password" class="hover">Usename</label>
				    <input type="text" id="password" class="required password" /></p>
     		</fieldset>
			<fieldset>
     			<legend>person Information</legend>
				<p><label for="name" class="hover">Name</label>
				    <input type="text" id="name" class="required text" /></p>
				<p><label for="email" class="hover">Email</label>
				    <input type="text" id="email" class="required text" /></p>
				<p><label for="phone" class="hover">Phone</label>
				    <input type="text" id="phone" class="required text" /></p>    
				<p><label for="date" class="hover">Date</label>
				    <input type="text" id="date" class="required date text" /></p>	
     		    <p><label for="url" class="hover">Website</label>
				    <input type="text" id="url" class="url text" /></p>
				<p><label for="age" class="hover">Over 13?</label>
				    <input type="checkbox" id="age" name="age" value="yes" /></p>	
			</fieldset>
			<fieldset>
				<legend>提交表单</legend>
				<p><input type="submit" value="Submit Form" class="submit" /></p>
			</fieldset>
     	</form>
     </div>  
</div>
<script src="../js/i-base.js"></script>
<script>
	function checkEmail(elem){
		return elem.value == '' || /^[a-z0-9_+.-]+\@([a-z0-9-]+\.)+[a-z0-9]{2,4}$/i.test(elem.value);
	}
	function checkURL(elem){
		return elem.value == '' || !elem.value == 'http://' || /^https?:\/\/([a-z0-9-]+\.)+[a-z0-9]{2,4}.*$/.test(elem.value);
	}
	function checkPhone(elem){
		var m = /(\d{3}).*(\d{3}).*(\d{4})/.exec(elem.value);
		if(m !== null){
			//(123)456-7890
			elem.value = "(" + m[1] + ")" + m[2] + "-" + m[3];
		}
		return elem.value == '' || m !== null;
	}
	function checkDate(elem){
		// 格式：MM/DD/YYYY
		return elem.value == '' || /^\d{2}\/\d{2}\/\d{2,4}$/.test(elem.value);
	}
	
	domReady(function(){
		tag('form')[0].onsubmit = function() {
		  var email = ID('email');
		  if(!checkEmail(email)){
		  	  alert('请填写正确的电子邮箱！');
		  	  return false;
		  }
		  
		  var url = ID('url');
		  if(!checkURL(url)){
		  	  alert('请填写正确的网址！');
		  	  return false;
		  }
		  
		  var phone = ID('phone');
		  if(!checkPhone(phone)){
		  	  alert('请填写正确的电话号码！');
		  	  return false;
		  }
		  
		  var date = ID('date');
		  if(!checkDate(date)){
		  	  alert('请填写正确的日期！');
		  	  return false;
		  }
		  
		}
	})
</script>
</body>
</html>